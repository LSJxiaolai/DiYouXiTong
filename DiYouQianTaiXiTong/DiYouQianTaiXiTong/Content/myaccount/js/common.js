/* @update: 2017-7-15 21:5:5 */
var assetsCommon;assetsCommon={},assetsCommon.domainSwitch=function(e){var t;return t=e.substring(0,2),document.domain||"//"!==t?e:"http:"+e},assetsCommon.ui_popMid=function(e,t,o,n){return null==o&&(o=".js_pop-close"),null==n&&(n=""),$(e).click(function(){var e,o,s,i;return s=$(window).height(),i=$(window).scrollTop(),e=$(t).height(),o=$(t).width(),$("body").append('<div class="ui-pop-mask" style="'+n+'"></div>'),$(t).css({top:i+Math.max(0,(s-e)/2.5),"margin-left":-o/2|0}).show()}),$(document).on("click",o,function(e){return function(){return e.ui_popMidClose(t)}}(this))},assetsCommon.ui_popMidObj=function(e,t,o){var n,s,i,a;return null==t&&(t=".js_pop-close"),null==o&&(o=""),i=$(window).height(),a=$(window).scrollTop(),n=$(e).height(),s=$(e).width(),$("body").append('<div class="ui-pop-mask" style="'+o+'"></div>'),$(e).css({top:a+Math.max(0,(i-n)/2.5),"margin-left":-s/2|0}).show(),$(document).on("click",t,function(t){return function(){return t.ui_popMidClose(e)}}(this))},assetsCommon.ui_popMidFrame=function(e,t,o,n){var s,i,a,u;return null==o&&(o=".js_pop-close"),null==n&&(n=""),a=$(window).height(),u=$(window).scrollTop(),s=$(e).height(),i=$(e).width(),$("body").append('<div class="ui-pop-mask" style="'+n+'"></div>'),$(e).find(".ui-pop-content").html(t),$(e).css({top:u+Math.max(0,(a-s)/2.5),"margin-left":-i/2|0}).show(),$(document).on("click",o,function(t){return function(){return t.ui_popMidClose(e)}}(this))},assetsCommon.ui_popMidClose=function(e){return $(".ui-pop-mask").remove(),$(e).hide()},assetsCommon.ui_popMidCloseEsc=function(){return $(document).keyup(function(e){return 27===e.keyCode?$(".js_pop-close").trigger("click"):void 0})},assetsCommon.ui_popMidFrameAuto=function(e){var t,o,n,s,i,a;return i=$(window).height(),a=$(window).scrollTop(),null==e.popId&&(e.popId="J_assetsCommon_pop-box"),o="#"+e.popId,t="#"+e.popId+"_iframe",s="ui-pop",null==e.closeBtn&&(e.closeBtn=".js_pop-close"),$(o).length&&($(o).remove(),$(".ui-pop-mask").remove()),e.popClass&&(s="ui-pop "+e.popClass),n='<div class="'+s+'" id="'+e.popId+'">\n    <a class="ui-pop-close js_pop-close" href="javascript:;"></a>\n    <div class="ui-pop-head">'+e.popTitle+'</div>\n    <div class="ui-pop-content">\n        <iframe id="'+e.popId+'_iframe" src="'+e.popSrc+'" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" style="width:100%;height:100%;border:0;"></iframe>\n    </div>\n</div>\n<div class="ui-pop-mask"></div>',$("body").append(n),$(o).show().css("visibility","hidden"),$(t).load(function(){var n,s,u,r,c;try{return n=$(t).contents().find("body").children(),$(o).css("visibility","visible"),c=n.outerWidth(),u=n.outerHeight(),r=$(o).find(".ui-pop-head").outerHeight(),$(o).find(".ui-pop-content").height(u),$(o).hide(),$(o).css({top:a+Math.max(0,(i-u-r)/2.5),width:c,"margin-left":-c/2|0}).show(),$(t).contents().find(e.closeBtn).click(function(){return $(".ui-pop-mask").remove(),$(o).remove()})}catch(l){return s=l,location.reload()}}),$(document).on("click",e.closeBtn,function(){return $(".ui-pop-mask").remove(),$(o).remove()})},assetsCommon.ui_lineMove=function(e,t,o,n,s){return 0===n?e.find(".ui-select-listBox-l-red").css("left",t*o-1).width(t-1):(null==n&&(n=200),e.find(".ui-select-listBox-l-red").stop().animate({left:t*o-1},n,function(){return s?s():void 0}))},assetsCommon.ui_selectListBox=function(e,t){var o;return o=this,$(".ui-select-listBox").each(function(){var n,s,i;return n=$(this),i=$(this).find(".ui-select-listBox-list").outerWidth(),s=$(this).find(".ui-select-listBox-list--now").index(),o.ui_lineMove(n,i,s,0),$(this).find(".ui-select-listBox-list").hover(function(){var s;return s=$(this).index(),o.ui_lineMove(n,i,s,t),$(this).click(function(){return e?($(this).siblings(".ui-select-listBox-list").removeClass("ui-select-listBox-list--now"),$(this).addClass("ui-select-listBox-list--now"),e(s)):void 0})}),$(this).mouseleave(function(){var e;return e=$(this).find(".ui-select-listBox-list--now").index(),o.ui_lineMove(n,i,e,t)})})},assetsCommon.buttonDropdown=function(){return $(document).on({mouseenter:function(){return $(this).addClass("ui-button-dropdown--hover")},mouseleave:function(){return $(this).removeClass("ui-button-dropdown--hover")}},".ui-button-dropdown")},assetsCommon.buttonTab=function(){return $(document).on("click",".ui-button-tab .ui-btn",function(){return $(this).siblings(".ui-btn").removeClass("ui-btn-now"),$(this).addClass("ui-btn-now")})},assetsCommon.select=function(){return $(document).on({mouseenter:function(){return $(this).addClass("ui-select--hover"),$(this).find(".ui-select-box").show()},mouseleave:function(){return $(this).removeClass("ui-select--hover"),$(this).find(".ui-select-box").hide()}},".ui-select"),$(document).on("click",".ui-select-option",function(){var e;return e=$(this).parents(".ui-select"),e.find(".ui-select-text").html($.trim($(this).html())),e.find(".ui-select-box").hide()})},assetsCommon.select2=function(){return $(document).on({mouseenter:function(){return $(this).addClass("ui-select2--hover"),$(this).find(".ui-select2-box").show()},mouseleave:function(){return $(this).removeClass("ui-select2--hover"),$(this).find(".ui-select2-box").hide()}},".ui-select2"),$(".ui-select2").find(".ui-select2-text").html(function(){return $(this).parent().find(".ui-select2-option--now").html()}),$(document).on("click",".ui-select2-option",function(){var e;return e=$(this).parents(".ui-select2"),e.removeClass("ui-select2--hover"),e.find(".ui-select2-text").html($.trim($(this).html())),e.find(".ui-select2-box").hide(),$(this).siblings().removeClass("ui-select2-option--now"),$(this).addClass("ui-select2-option--now")}),$(document).on("click",".ui-select2-text",function(){var e;return e=$(this).parents(".ui-select2"),e.removeClass("ui-select2--hover"),e.find(".ui-select2-box").hide()})},assetsCommon.ui_infoPop1=function(){var e;return e=null,$(document).on({mouseenter:function(){var t,o,n;return clearTimeout(e),$(".ui_infoPopBtn1").removeClass("ui_infoPopBtn1--hover"),n=this,o=$(this).find(".ui_infoPop-bg"),t=$(this).find(".ui_infoPop"),o.css("left",function(){return($(n).innerWidth()-$(this).innerWidth())/2}),t.css("top",function(){return o.outerHeight()-$(this).outerHeight()-10}),$(this).addClass("ui_infoPopBtn1--hover")},mouseleave:function(){return e=setTimeout(function(e){return function(){return $(e).removeClass("ui_infoPopBtn1--hover")}}(this),200)}},".ui_infoPopBtn1")},assetsCommon.ui_infoPop2=function(){var e;return e=null,$(document).on({mouseenter:function(){var t,o,n;return clearTimeout(e),$(".ui_infoPopBtn2").removeClass("ui_infoPopBtn2--hover"),n=this,o=$(this).find(".ui_infoPop-bg"),t=$(this).find(".ui_infoPop"),o.css("left",function(){return($(n).innerWidth()-$(this).innerWidth())/2}),$(this).addClass("ui_infoPopBtn2--hover")},mouseleave:function(){return e=setTimeout(function(e){return function(){return $(e).removeClass("ui_infoPopBtn2--hover")}}(this),200)}},".ui_infoPopBtn2")},assetsCommon.datepicker=function(){return seajs.use(assetsCommon.domainSwitch("//static.360buyimg.com/finance/assets/common/moudle/datepicker/WdatePicker"))},assetsCommon.leftFixTop=function(){var e,t,o;if(0!==$("#J_an-list").length)return e=$("#J_an-list").offset().top,o=$("#J_assets-nav").find(".an-userinfo").outerHeight(),t=function(){var t,n,s,i,a;return a=$(window).height(),s=$("#J_assets-nav").outerHeight(),$("#J_assets-nav").hasClass("assets-nav--fix")||(s-=o),i=$(document).height()-a-$(window).scrollTop(),n=$(".f-copyright").outerHeight(),t=0>a-s?0:a-s,$(window).scrollTop()>e?($("#J_assets-nav").css("bottom","auto").addClass("assets-nav--fix").css("top","0"),s>a-n&&n-t>i?$("#J_assets-nav").css({top:"auto",bottom:n-i}):void 0):$("#J_assets-nav").removeClass("assets-nav--fix").css("bottom","auto")},t(),$(window).bind("scroll resize",function(){return t()})},assetsCommon.autoHeigh=function(){var e,t,o,n,s;return s=$(window).height(),t=$(".header").outerHeight(),e=$(".f-copyright").outerHeight(),o=$("#J_assets-nav").outerHeight(),n=s-t-e,n=n>o?n:o,$(".m-content").css("min-height",n)},assetsCommon.hornTip_flag=!0,assetsCommon.hornTip=function(e){var t,o;return o=$("#J_ui_assetTip-box"),e=e||3e3,t=null,o.find("li").length>1&&assetsCommon.hornTip_flag&&(assetsCommon.hornTip_flag=!1,o.hover(function(){return clearInterval(t)},function(){return t=setInterval(function(){var e,t;return e=o.find("li:first"),t=e.height(),e.animate({marginTop:0-t},1e3,function(){return e.css("marginTop",0).appendTo(o)})},e)}).trigger("mouseleave")),$("#J_ui_assetTip-close").click(function(){return $("#J_ui_assetTip").remove()})},assetsCommon.setUserSecurityPop=function(){var e,t,o;return e=$(".j_userSecurityIcon"),o=".j_userSecurityPop",t=0,e.bind("mouseenter",function(){var e,n,s,i;return $(o).length>0&&$(o).remove(),s='<div class="user-security-pop j_userSecurityPop" style="z-index: 10001;"><em class="user-security-pop-ico"></em><div class="user-security-pop-content"></div></div>',e=$(s),e.find(".user-security-pop-content").html($(this).attr("data-msg")),i=$(this).offset().top,n=$(this).offset().left,e.css({top:i+50,left:n-93,opacity:0}),$("body").append(e),setTimeout(function(){return e.css({top:i+40,opacity:1})},10),clearTimeout(t),e.bind("mouseleave",function(){return t=setTimeout(function(){return $(o).remove()},500)}),e.bind("mouseenter",function(){return clearTimeout(t)})}).bind("mouseleave",function(){return t=setTimeout(function(){return $(o).remove()},500)})},assetsCommon.setUserSecurity=function(){var e,t;return e=$("#assetUserWelcome"),t=$('<div class="u-security"></div>'),$.ajax({type:"GET",url:assetsCommon.domainSwitch("//authpay.jd.com/account/jrinter"),dataType:"jsonp",success:function(o){var n,s,i,a,u,r,c,l,m,p,d,h,f,v;return null!=o.info?(m="",l="",r="",u="",i="",s="",d="//authpay.jd.com/account/home",a="",p="//authpay.jd.com/auth/toAuthSuccessPage.action",v="//authpay.jd.com/auth/toAuthPage.action",c="",f="//safe.jd.com/validate/verifyMobile",n="//authpay.jd.com/bindphone/choiceModifyPhoneWay",o.info.isRealName?(a=p,l="\u60a8\u5df2\u901a\u8fc7\u5b9e\u540d\u8ba4\u8bc1\u3002<a class='font-link' href='"+a+"' target='_blank'>\u67e5\u770b\u8be6\u60c5</a>"):(m="risky",a=v,l=o.info.quickAuth?"\u60a8\u662f\u5feb\u6377\u5361\u8ba4\u8bc1,\u8bf7\u5b8c\u5584\u5b9e\u540d\u4fe1\u606f\u3002<a class='font-link' href='"+a+"' target='_blank'>\u7acb\u5373\u5b8c\u5584</a>":"\u5b8c\u6210\u5b9e\u540d\u8ba4\u8bc1\uff0c\u53ef\u4eab\u53d7\u767d\u6761\u3001\u7406\u8d22\u7b49\u4e13\u5c5e\u670d\u52a1\u53ca\u63d0\u5347\u4e2a\u4eba\u8d26\u6237\u4fe1\u7528\u5ea6\u4e0e\u5b89\u5168\u4fdd\u969c\uff01<a class='font-link' href='"+a+"' target='_blank'>\u7acb\u5373\u8ba4\u8bc1</a>"),o.info.isBindPhone?(c=n,u="\u60a8\u5df2\u7ed1\u5b9a\u624b\u673a"+o.info.phoneNoShort+"\u3002"):(r="risky",c=f,u="\u7ed1\u5b9a\u624b\u673a\u53f7\uff0c\u53ef\u53ca\u65f6\u63a5\u53d7\u5f02\u5e38\u901a\u77e5\uff0c\u5feb\u901f\u627e\u56de\u5bc6\u7801\u3002<a class='font-link' href='"+c+"' target='_blank'>\u7acb\u5373\u7ed1\u5b9a</a>"),2===o.info.level?(i="risky",s="\u5b89\u5168\u7b49\u7ea7\uff1a\u4f4e&nbsp;&nbsp;<a class='font-link' href='"+d+"' target='_blank'>\u7acb\u5373\u63d0\u5347</a>"):1===o.info.level?(i="risky",s="\u5b89\u5168\u7b49\u7ea7\uff1a\u4e2d&nbsp;&nbsp;<a class='font-link' href='"+d+"' target='_blank'>\u7acb\u5373\u63d0\u5347</a>"):0===o.info.level&&(s="\u5b89\u5168\u7b49\u7ea7\uff1a\u9ad8<br/>\u606d\u559c\u60a8\uff0c\u60a8\u7684\u5b89\u5168\u9632\u7ebf\u56fa\u82e5\u91d1\u6c64\uff01<br/>\u53bb<a class='font-link' href='"+d+"' target='_blank'>\u5b89\u5168\u4e2d\u5fc3</a>\u67e5\u770b\u8be6\u60c5\u3002"),h='<a class="j_userSecurityIcon u-security-icon u-security-icon-person '+m+'" href="'+a+'" target="_blank" data-msg="'+l+'"></a>\n<a class="j_userSecurityIcon u-security-icon u-security-icon-phone '+r+'" href="'+c+'" target="_blank" data-msg="'+u+'"></a>\n<a class="j_userSecurityIcon u-security-icon u-security-icon-level '+i+'" href="'+d+'" target="_blank" data-msg="'+s+'"></a>',t.prepend(h),e.html(t),assetsCommon.setUserSecurityPop()):void 0}}),$.ajax({type:"GET",url:assetsCommon.domainSwitch("//bao.jd.com/queryAccountSafeOrderService/queryAccount?source=JRPC&resourcePlace=zcmenu"),dataType:"jsonp",success:function(o){var n,s,i;if(o.success)return s="",n=""+o.desc+" <a class='font-link' href='"+o.url+"' target='_blank'>"+o.urlDesc+"</a>",1===o.status&&(s="risky"),i='<a class="j_userSecurityIcon u-security-icon u-security-icon-safe '+s+'" href="'+o.url+'" target="_blank" data-msg="'+n+'"></a>',t.append(i),e.html(t),assetsCommon.setUserSecurityPop()}})},assetsCommon.setAppQrcode=function(){var e,t;return e=$("#J_assets-nav"),t=$('<div class="an-app"></div>'),t.appendTo(e)},assetsCommon.setMenuData=function(){var e;return e=$("#J_an-list"),$.ajax({type:"GET",url:assetsCommon.domainSwitch("//jrvip.jd.com/nav/tree?nc=assets"),dataType:"jsonp",success:function(t){var o,n,s,i,a;if("undefined"!=typeof t){for(i=t.menus,a="<ul>",s=0;s<i.length;)o=1===i[s].blank?'target="_blank"':"",n=""!==i[s].clstag?'clstag="'+i[s].clstag:"",a+='<li id="assets-'+i[s].code+'" class="l-item"><a '+o+' href="'+i[s].url+'"'+n+">"+i[s].name+"<b></b></a></li>",s++;if(a+="</ul>",e.html(a),"undefined"!=typeof jrBase&&"undefined"!=typeof jrBase.assetsId)return $("#assets-"+jrBase.assetsId).addClass("current")}}})},assetsCommon.pk=function(){return seajs.use("//static.360buyimg.com/finance/assets/common/moudle/pk/js/pk",function(e){return e()})},assetsCommon.unRealNamePop=function(){return seajs.use("//static.360buyimg.com/finance/assets/common/moudle/js/jrCookie",function(){var e,t,o,n;return e=new Date,!$.cookie("unRealNamePop_reset1")&&2016===e.getFullYear()&&10===e.getMonth()&&1<=(o=e.getDate())&&5>=o&&($.removeCookie("unRealNamePop"),$.removeCookie("unRealNamePopBtn"),$.cookie("unRealNamePop_reset1",!0)),!$.cookie("unRealNamePop_reset2")&&2016===e.getFullYear()&&10===e.getMonth()&&6<=(n=e.getDate())&&10>=n&&($.removeCookie("unRealNamePop"),$.removeCookie("unRealNamePopBtn"),$.cookie("unRealNamePop_reset2",!0)),$.cookie("unRealNamePop_reset3")||2016!==e.getFullYear()||10!==e.getMonth()||11!==e.getDate()||($.removeCookie("unRealNamePop"),$.removeCookie("unRealNamePopBtn"),$.cookie("unRealNamePop_reset3",!0)),$.cookie("unRealNamePopBtn")?void 0:(t='<div class="common-unRealNamePop" id="J_common-unRealNamePop">\n    <a class="u-close js_pop-close" href="javascript:;"></a>\n    <a class="u-btn" href="//authpay.jd.com/auth/toAuthPage?source=179" target="_blank"></a>\n    <a class="u-btnClose js_pop-close" href="javascript:;">\u4e0b\u6b21\u518d\u8bf4</a>\n</div>\n<div class="common-unRealNamePopBtn" id="J_common-unRealNamePopBtn">\n    <a class="u-close" href="javascript:;"></a>\n    <a class="u-btn" href="javascript:;"></a>\n</div>',$("body").append(t),!$.cookie("unRealNamePop")&&$("#assets-index").hasClass("current")&&assetsCommon.ui_popMidObj("#J_common-unRealNamePop"),$("#J_common-unRealNamePop").find(".js_pop-close").click(function(){return $.cookie("unRealNamePop",!0)}),$("#J_common-unRealNamePopBtn").find(".u-close").click(function(){return $("#J_common-unRealNamePopBtn").remove(),$("#J_common-unRealNamePop").remove(),$.cookie("unRealNamePopBtn",!0)}),$("#J_common-unRealNamePopBtn").find(".u-btn").click(function(){return assetsCommon.ui_popMidObj("#J_common-unRealNamePop")}))})},assetsCommon.init=function(){return this.ui_popMidCloseEsc(),this.setUserSecurity(),this.setMenuData(),this.setAppQrcode(),this.buttonDropdown(),this.buttonTab(),this.select(),this.select2(),this.ui_infoPop1(),this.ui_infoPop2(),this.leftFixTop(),this.hornTip()},$(function(){return assetsCommon.init()});